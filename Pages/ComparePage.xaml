<Page x:Class="FrekingCompareAnalysis.Pages.ComparePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
      Title="Compare Page" Height="800" Width="1200">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Panel -->
        <Border Grid.Column="0" Background="#F5F5F5" Padding="10" BorderBrush="#DDD" BorderThickness="0,0,1,0">
            <StackPanel>
                <TextBlock Text="Панель керування" FontSize="16" FontWeight="Bold" Margin="0,0,0,20"/>

                <!-- Favorable Conditions Section -->
                <GroupBox Header="Аналіз ідеальних умов" Margin="0,0,0,20">
                    <StackPanel>
                        <Button Name="BtnAnalyzeFavorableConditions" 
                                Content="Проаналізувати на основі..." 
                                Height="35" 
                                Margin="0,10"
                                Click="BtnAnalyzeFavorableConditions_Click"/>

                        <TextBlock Name="TxtFavorableConditionsStatus" 
                                   Text="Поки ідеальні умови не визначено" 
                                   TextWrapping="Wrap" 
                                   Margin="0,5"
                                   FontStyle="Italic"
                                   Foreground="Gray"/>
                    </StackPanel>
                </GroupBox>

                <!-- File Comparison Section -->
                <GroupBox Header="Файл для порівняння">
                    <StackPanel>
                        <TextBlock Text="Виберіть файл:" Margin="0,5"/>
                        <ComboBox Name="CmbFileSelection" 
                                  Height="30" 
                                  Margin="0,5,0,10"
                                  SelectionChanged="CmbFileSelection_SelectionChanged"/>

                        <TextBlock Name="TxtBreakdownInfo" 
                                   Text="тут буде статистика вибраного файлу" 
                                   TextWrapping="Wrap" 
                                   Margin="0,10"
                                   FontSize="12"
                                   Foreground="DarkBlue"/>
                        <TextBlock Name="AccuracyInfo"
                                   Text="Відстань Хаусдорфа: NaN"
                                   TextWrapping="Wrap" 
                                   Margin="0,10"
                                   FontSize="12"
                                   Foreground="DarkBlue"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </Border>

        <!-- Chart Area -->
        <Grid Grid.Column="1" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Name="TxtChartTitle" 
                       Grid.Row="0" 
                       Text="Select a file to display chart" 
                       FontSize="18" 
                       FontWeight="Bold" 
                       HorizontalAlignment="Center" 
                       Margin="0,0,0,10"/>

            <lvc:CartesianChart Name="MainChart" 
                               Grid.Row="1" 
                               LegendLocation="Bottom"
                               Hoverable="False"
                               DataTooltip="{x:Null}">
                <lvc:CartesianChart.AxisX>
                    <lvc:Axis Title="Time" 
                             LabelFormatter="{Binding TimeFormatter}"
                             Separator="{x:Static lvc:DefaultAxes.CleanSeparator}"/>
                </lvc:CartesianChart.AxisX>
                <lvc:CartesianChart.AxisY>
                    <lvc:Axis Title="Values" 
                             Separator="{x:Static lvc:DefaultAxes.CleanSeparator}"/>
                </lvc:CartesianChart.AxisY>
            </lvc:CartesianChart>
        </Grid>
    </Grid>
</Page>